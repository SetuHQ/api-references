{
    "name": "Create Signature Request",
    "event": [
        {
            "listen": "test",
            "script": {
                "id": "3dda3063-0620-4c6f-abfa-0caf267d2429",
                "exec": [
                    "var res = pm.response.json();",
                    "pm.environment.set(\"request_id\", res.id);"
                ],
                "type": "text/javascript"
            }
        }
    ],
    "id": "0b741674-82a5-4cf5-b50a-8011160e131a",
    "protocolProfileBehavior": {
        "disableBodyPruning": true
    },
    "request": {
        "auth": {
            "type": "noauth"
        },
        "method": "POST",
        "header": [
            {
                "key": "x-client-id",
                "value": "{{client_id}}",
                "type": "text"
            },
            {
                "key": "x-client-secret",
                "value": "{{secret}}",
                "type": "text"
            }
        ],
        "body": {
            "mode": "raw",
            "raw": "{\n  \"documentId\": \"{{document_id}}\",\n  \"redirectUrl\": \"http://setu.co\",\n  \"signers\": [\n    {\n      \"identifier\": \"898925663929\",\n      \"displayName\": \"Ashok Saini\",\n      \"yearOfBirth\": \"1991\",\n      \"signature\": {\n        \"height\": 60,\n        \"onPages\": [\n          \"1\"\n        ],\n        \"position\": \"bottom-right\",\n        \"width\": 180\n      }\n    }\n  ]\n}",
            "options": {
                "raw": {
                    "language": "json"
                }
            }
        },
        "url": {
            "raw": "{{base_url}}/api/signature",
            "host": [
                "{{base_url}}"
            ],
            "path": [
                "api",
                "signature"
            ]
        }
    },
    "response": [
        {
            "id": "3a80a70d-511e-4f58-9827-92fdce77f22b",
            "name": "Success",
            "originalRequest": {
                "method": "POST",
                "header": [
                    {
                        "key": "x-client-id",
                        "value": "{{client_id}}",
                        "type": "text"
                    },
                    {
                        "key": "x-client-secret",
                        "value": "{{secret}}",
                        "type": "text"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"documentId\": \"{{document_id}}\",\n  \"redirectUrl\": \"http://setu.co\",\n  \"signers\": [\n    {\n      \"identifier\": \"9876543210\",\n      \"displayName\": \"Akshay P\",\n      \"signature\": {\n        \"height\": 60,\n        \"onPages\": [\n          \"1\"\n        ],\n        \"position\": \"bottom-left\",\n        \"width\": 180\n      }\n    }\n  ]\n}",
                    "options": {
                        "raw": {
                            "language": "json"
                        }
                    }
                },
                "url": {
                    "raw": "{{base_url}}/api/signature",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "signature"
                    ]
                }
            },
            "status": "CREATED",
            "code": 201,
            "_postman_previewlanguage": "json",
            "header": [
                {
                    "key": "Date",
                    "value": "Thu, 28 Oct 2021 08:24:03 GMT"
                },
                {
                    "key": "Content-Type",
                    "value": "application/json"
                },
                {
                    "key": "Content-Length",
                    "value": "449"
                },
                {
                    "key": "Connection",
                    "value": "keep-alive"
                },
                {
                    "key": "Server",
                    "value": "openresty"
                },
                {
                    "key": "Permissions-Policy",
                    "value": "interest-cohort=()"
                },
                {
                    "key": "X-Frame-Options",
                    "value": "DENY"
                },
                {
                    "key": "X-XSS-Protection",
                    "value": "1; mode=block"
                },
                {
                    "key": "X-Content-Type-Options",
                    "value": "nosniff"
                },
                {
                    "key": "Content-Security-Policy",
                    "value": "default-src 'self'; img-src 'self' data-gateway-resources.s3.ap-south-1.amazonaws.com; script-src 'self' data-gateway-resources.s3.ap-south-1.amazonaws.com 'unsafe-inline'; style-src 'self' data-gateway-resources.s3.ap-south-1.amazonaws.com fonts.googleapis.com 'unsafe-inline'; font-src fonts.gstatic.com"
                },
                {
                    "key": "Referrer-Policy",
                    "value": "strict-origin-when-cross-origin"
                },
                {
                    "key": "Strict-Transport-Security",
                    "value": "max-age=31556926; includeSubDomains"
                },
                {
                    "key": "Cache-Control",
                    "value": "no-cache"
                },
                {
                    "key": "Pragma",
                    "value": "no-cache"
                }
            ],
            "cookie": [],
            "responseTime": null,
            "body": "{\n    \"documentId\": \"91fba655-95d3-4ffd-a47f-5e122024b00c\",\n    \"id\": \"6bae9d1f-0fa6-44e5-a801-3ad4a5f10a12\",\n    \"redirectUrl\": \"http://setu.co\",\n    \"signers\": [\n        {\n            \"displayName\": \"Akshay P\",\n            \"id\": \"34f94af1-a8b9-4797-b287-c5ef7bff99a1\",\n            \"identifier\": \"9876543210\",\n            \"signatureDetails\": null,\n            \"status\": \"pending\",\n            \"url\": \"https://dg-uat.setu.co/signature/preview?requestId=6bae9d1f-0fa6-44e5-a801-3ad4a5f10a12&signerId=34f94af1-a8b9-4797-b287-c5ef7bff99a1\"\n        }\n    ],\n    \"status\": \"sign_initiated\"\n}"
        },
        {
            "id": "7b100870-f70a-4fc3-973e-f86a1cf1f8f5",
            "name": "Invalid document",
            "originalRequest": {
                "method": "POST",
                "header": [
                    {
                        "key": "x-client-id",
                        "value": "{{client_id}}",
                        "type": "text"
                    },
                    {
                        "key": "x-client-secret",
                        "value": "{{secret}}",
                        "type": "text"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"documentId\": \"{{document_id}}\",\n  \"redirectUrl\": \"http://setu.co\",\n  \"signers\": [\n    {\n      \"identifier\": \"9876543210\",\n      \"displayName\": \"Akshay P\",\n      \"signature\": {\n        \"height\": 60,\n        \"onPages\": [\n          \"1\"\n        ],\n        \"position\": \"bottom-left\",\n        \"width\": 180\n      }\n    }\n  ]\n}",
                    "options": {
                        "raw": {
                            "language": "json"
                        }
                    }
                },
                "url": {
                    "raw": "{{base_url}}/api/signature",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "signature"
                    ]
                }
            },
            "status": "BAD REQUEST",
            "code": 400,
            "_postman_previewlanguage": "json",
            "header": [
                {
                    "key": "Date",
                    "value": "Thu, 28 Oct 2021 08:24:37 GMT"
                },
                {
                    "key": "Content-Type",
                    "value": "application/json"
                },
                {
                    "key": "Content-Length",
                    "value": "115"
                },
                {
                    "key": "Connection",
                    "value": "keep-alive"
                },
                {
                    "key": "Server",
                    "value": "openresty"
                },
                {
                    "key": "Permissions-Policy",
                    "value": "interest-cohort=()"
                },
                {
                    "key": "X-Frame-Options",
                    "value": "DENY"
                },
                {
                    "key": "X-XSS-Protection",
                    "value": "1; mode=block"
                },
                {
                    "key": "X-Content-Type-Options",
                    "value": "nosniff"
                },
                {
                    "key": "Content-Security-Policy",
                    "value": "default-src 'self'; img-src 'self' data-gateway-resources.s3.ap-south-1.amazonaws.com; script-src 'self' data-gateway-resources.s3.ap-south-1.amazonaws.com 'unsafe-inline'; style-src 'self' data-gateway-resources.s3.ap-south-1.amazonaws.com fonts.googleapis.com 'unsafe-inline'; font-src fonts.gstatic.com"
                },
                {
                    "key": "Referrer-Policy",
                    "value": "strict-origin-when-cross-origin"
                },
                {
                    "key": "Strict-Transport-Security",
                    "value": "max-age=31556926; includeSubDomains"
                },
                {
                    "key": "Cache-Control",
                    "value": "no-cache"
                },
                {
                    "key": "Pragma",
                    "value": "no-cache"
                }
            ],
            "cookie": [],
            "responseTime": null,
            "body": "{\n    \"error\": {\n        \"code\": \"invalid_document\",\n        \"detail\": \"The document Id is already being used in a signature\",\n        \"traceId\": \"\"\n    }\n}"
        },
        {
            "id": "b4f27d29-f2d3-4ba4-bf04-2d451949c273",
            "name": "Invalid payload",
            "originalRequest": {
                "method": "POST",
                "header": [
                    {
                        "key": "x-client-id",
                        "value": "{{client_id}}",
                        "type": "text"
                    },
                    {
                        "key": "x-client-secret",
                        "value": "{{secret}}",
                        "type": "text"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"documentId\": \"{{document_id}}\",\n  \"redirectUrl\": \"http://setu.co\",\n  \"signers\": [\n    {\n      \"identifier\": \"9876543210\",\n      \"displayName\": \"Akshay P\",\n      \"signature\": {\n        \"height\": 60,\n        \"onPages\": [\n          \"1\"\n        ],\n        \"width\": 180\n      }\n    }\n  ]\n}",
                    "options": {
                        "raw": {
                            "language": "json"
                        }
                    }
                },
                "url": {
                    "raw": "{{base_url}}/api/signature",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "signature"
                    ]
                }
            },
            "status": "BAD REQUEST",
            "code": 400,
            "_postman_previewlanguage": "json",
            "header": [
                {
                    "key": "Date",
                    "value": "Thu, 28 Oct 2021 08:25:09 GMT"
                },
                {
                    "key": "Content-Type",
                    "value": "application/json"
                },
                {
                    "key": "Content-Length",
                    "value": "85"
                },
                {
                    "key": "Connection",
                    "value": "keep-alive"
                },
                {
                    "key": "Server",
                    "value": "openresty"
                },
                {
                    "key": "Permissions-Policy",
                    "value": "interest-cohort=()"
                },
                {
                    "key": "X-Frame-Options",
                    "value": "DENY"
                },
                {
                    "key": "X-XSS-Protection",
                    "value": "1; mode=block"
                },
                {
                    "key": "X-Content-Type-Options",
                    "value": "nosniff"
                },
                {
                    "key": "Content-Security-Policy",
                    "value": "default-src 'self'; img-src 'self' data-gateway-resources.s3.ap-south-1.amazonaws.com; script-src 'self' data-gateway-resources.s3.ap-south-1.amazonaws.com 'unsafe-inline'; style-src 'self' data-gateway-resources.s3.ap-south-1.amazonaws.com fonts.googleapis.com 'unsafe-inline'; font-src fonts.gstatic.com"
                },
                {
                    "key": "Referrer-Policy",
                    "value": "strict-origin-when-cross-origin"
                },
                {
                    "key": "Strict-Transport-Security",
                    "value": "max-age=31556926; includeSubDomains"
                },
                {
                    "key": "Cache-Control",
                    "value": "no-cache"
                },
                {
                    "key": "Pragma",
                    "value": "no-cache"
                }
            ],
            "cookie": [],
            "responseTime": null,
            "body": "{\n    \"error\": {\n        \"code\": \"invalid_payload\",\n        \"detail\": \"Invalid position value.\",\n        \"traceId\": \"\"\n    }\n}"
        }
    ]
}